{"ast":null,"code":"import _asyncToGenerator from \"C:/Angeerasa/Projects/SaAn-Code/SaAnCode Front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { HttpHeaders } from '@angular/common/http';\nimport { lastValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/data.service\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction ProblemComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.problem.heading);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.problem.description);\n  }\n}\n\nfunction ProblemComponent_div_9_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const discussion_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(discussion_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(discussion_r4.discussion);\n  }\n}\n\nfunction ProblemComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2, \"Discussions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ProblemComponent_div_9_div_3_Template, 5, 2, \"div\", 2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.discussions);\n  }\n}\n\nfunction ProblemComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2, \"Solution\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"textarea\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function ProblemComponent_div_10_Template_textarea_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.solution_code = $event);\n    });\n    i0.ɵɵtext(4, \"    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 0);\n    i0.ɵɵlistener(\"click\", function ProblemComponent_div_10_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.solutionSubmit());\n    });\n    i0.ɵɵtext(6, \"Run\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.solution_code);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.solution_output, \"\\n\");\n  }\n}\n\nexport class ProblemComponent {\n  constructor(route, service, http) {\n    this.route = route;\n    this.service = service;\n    this.http = http;\n    this.write_solution = false;\n    this.Problem_Discussion = true; // true- displays problem | false- displays discussion\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let id = _this.route.snapshot.paramMap.get('id');\n\n      _this.problem = yield _this.service.displayProblem(id);\n      _this.discussions = yield _this.service.getDiscussionsOfProblem(id);\n    })();\n  }\n\n  Display_Problem_Discussion() {\n    this.Problem_Discussion = !this.Problem_Discussion;\n  }\n\n  solutionSubmit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const header = new HttpHeaders().set('Access-Control-Allow-Origin', '*');\n      let obj = {\n        language: \"python3\",\n        script: _this2.solution_code,\n        clientId: \"b3ea619b3f8a2a24845666b069b463f2\",\n        clientSecret: \"eabbab96555556f8dd2c368f3b48225ffc3a28aab9a80de8f5ae05d979ba4809\"\n      };\n      const output = yield lastValueFrom(_this2.http.post('https://api.jdoodle.com/v1/execute', obj, {\n        headers: header\n      }));\n      _this2.solution_output = output;\n    })();\n  }\n\n}\n\nProblemComponent.ɵfac = function ProblemComponent_Factory(t) {\n  return new (t || ProblemComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DataService), i0.ɵɵdirectiveInject(i3.HttpClient));\n};\n\nProblemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProblemComponent,\n  selectors: [[\"app-problem\"]],\n  decls: 11,\n  vars: 3,\n  consts: [[3, \"click\"], [4, \"ngIf\"], [\"style\", \"border: 1mm solid grey;\", 4, \"ngFor\", \"ngForOf\"], [2, \"border\", \"1mm solid grey\"], [\"cols\", \"30\", \"rows\", \"10\", 3, \"ngModel\", \"ngModelChange\"]],\n  template: function ProblemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"span\", 0);\n      i0.ɵɵlistener(\"click\", function ProblemComponent_Template_span_click_0_listener() {\n        return ctx.Display_Problem_Discussion();\n      });\n      i0.ɵɵtext(1, \"Problem\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(2, \"\\u00A0\\u00A0\");\n      i0.ɵɵelementStart(3, \"span\", 0);\n      i0.ɵɵlistener(\"click\", function ProblemComponent_Template_span_click_3_listener() {\n        return ctx.Display_Problem_Discussion();\n      });\n      i0.ɵɵtext(4, \"Discussions\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(5, \"\\n\\u00A0\\u00A0\");\n      i0.ɵɵelementStart(6, \"span\", 0);\n      i0.ɵɵlistener(\"click\", function ProblemComponent_Template_span_click_6_listener() {\n        return ctx.write_solution = !ctx.write_solution;\n      });\n      i0.ɵɵtext(7, \"Solution\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, ProblemComponent_div_8_Template, 5, 2, \"div\", 1);\n      i0.ɵɵtemplate(9, ProblemComponent_div_9_Template, 4, 1, \"div\", 1);\n      i0.ɵɵtemplate(10, ProblemComponent_div_10_Template, 8, 2, \"div\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.Problem_Discussion);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.Problem_Discussion);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.write_solution);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9ibGVtLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"mappings":";AAAA,SAAqBA,WAArB,QAAwC,sBAAxC;AAGA,SAASC,aAAT,QAA8B,MAA9B;;;;;;;;;;ICDAC,4BAAgC,CAAhC,EAAgC,IAAhC;IACQA;IAAmBA;IACvBA;IAAGA;IAAuBA;;;;;IADtBA;IAAAA;IACDA;IAAAA;;;;;;IAKHA,+BAA4E,CAA5E,EAA4E,IAA5E;IACQA;IAAoBA;IACxBA;IAAGA;IAAyBA;;;;;IADxBA;IAAAA;IACDA;IAAAA;;;;;;IAJXA,4BAAiC,CAAjC,EAAiC,IAAjC;IACQA;IAAWA;IACfA;IAIJA;;;;;IAJgCA;IAAAA;;;;;;;;IAMhCA,4BAA4B,CAA5B,EAA4B,IAA5B;IACQA;IAAQA;IACZA;IAA8BA;MAAAA;MAAA;MAAA;IAAA;IAC9BA;IAAAA;IACAA;IAAQA;MAAAA;MAAA;MAAA,OAASA,uCAAT;IAAyB,CAAzB;IAA2BA;IAAGA;IACtCA;IACJA;;;;;IAJkCA;IAAAA;IAG9BA;IAAAA;;;;ADTJ,OAAM,MAAOC,gBAAP,CAAuB;EAO3BC,YAAoBC,KAApB,EACmBC,OADnB,EAEmBC,IAFnB,EAEkC;IAFd;IACD;IACA;IAPnB,sBAAyB,KAAzB;IAIA,0BAA4B,IAA5B,CAGkC,CAHA;EAMhC;;EAEIC,QAAQ;IAAA;;IAAA;MACZ,IAAIC,EAAE,GAAE,KAAI,CAACJ,KAAL,CAAWK,QAAX,CAAoBC,QAApB,CAA6BC,GAA7B,CAAiC,IAAjC,CAAR;;MACA,KAAI,CAACC,OAAL,SAAqB,KAAI,CAACP,OAAL,CAAaQ,cAAb,CAA4BL,EAA5B,CAArB;MACA,KAAI,CAACM,WAAL,SAAyB,KAAI,CAACT,OAAL,CAAaU,uBAAb,CAAqCP,EAArC,CAAzB;IAHY;EAIb;;EACDQ,0BAA0B;IACxB,KAAKC,kBAAL,GAAyB,CAAC,KAAKA,kBAA/B;EACD;;EAEKC,cAAc;IAAA;;IAAA;MAClB,MAAMC,MAAM,GAAG,IAAIpB,WAAJ,GAAkBqB,GAAlB,CAAsB,6BAAtB,EAAoD,GAApD,CAAf;MACA,IAAIC,GAAG,GAAG;QACRC,QAAQ,EAAE,SADF;QAERC,MAAM,EAAC,MAAI,CAACC,aAFJ;QAGRC,QAAQ,EAAE,kCAHF;QAIRC,YAAY,EAAC;MAJL,CAAV;MAMA,MAAMC,MAAM,SAAS3B,aAAa,CAAC,MAAI,CAACM,IAAL,CAAUsB,IAAV,CAAe,oCAAf,EAAoDP,GAApD,EAAwD;QAACQ,OAAO,EAACV;MAAT,CAAxD,CAAD,CAAlC;MACA,MAAI,CAACW,eAAL,GAAuBH,MAAvB;IATkB;EAUnB;;AAjC0B;;;mBAAhBzB,kBAAgBD;AAAA;;;QAAhBC;EAAgB6B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX7BlC;MAAMA;QAAA,OAASmC,gCAAT;MAAqC,CAArC;MAAuCnC;MAAOA;MAAOA;MAAYA;MAAMA;QAAA,OAASmC,gCAAT;MAAqC,CAArC;MAAuCnC;MAAWA;MAC/HA;MAAYA;MAAMA;QAAA;MAAA;MAAyCA;MAAQA;MACnEA;MAKAA;MAQAA;;;;MAbMA;MAAAA;MAKAA;MAAAA;MAQAA;MAAAA","names":["HttpHeaders","lastValueFrom","i0","ProblemComponent","constructor","route","service","http","ngOnInit","id","snapshot","paramMap","get","problem","displayProblem","discussions","getDiscussionsOfProblem","Display_Problem_Discussion","Problem_Discussion","solutionSubmit","header","set","obj","language","script","solution_code","clientId","clientSecret","output","post","headers","solution_output","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Angeerasa\\Projects\\SaAn-Code\\SaAnCode Front-end\\src\\app\\problem\\problem.component.ts","C:\\Angeerasa\\Projects\\SaAn-Code\\SaAnCode Front-end\\src\\app\\problem\\problem.component.html"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { lastValueFrom } from 'rxjs';\nimport {DataService} from '../services/data.service'\n\n@Component({\n  selector: 'app-problem',\n  templateUrl: './problem.component.html',\n  styleUrls: ['./problem.component.css']\n})\nexport class ProblemComponent implements OnInit {\n  problem!:any;\n  write_solution:boolean = false;\n  solution_code!:string;\n  solution_output!:any;\n  discussions!:any;\n  Problem_Discussion:boolean= true; // true- displays problem | false- displays discussion\n  constructor(private route:ActivatedRoute, \n              public service:DataService, \n              public http:HttpClient,\n             ) {\n\n   }\n\n  async ngOnInit(): Promise<void> {\n    let id= this.route.snapshot.paramMap.get('id');\n    this.problem = await this.service.displayProblem(id);\n    this.discussions = await this.service.getDiscussionsOfProblem(id);\n  }\n  Display_Problem_Discussion(){\n    this.Problem_Discussion= !this.Problem_Discussion;\n  }\n\n  async solutionSubmit(){\n    const header = new HttpHeaders().set('Access-Control-Allow-Origin','*');\n    let obj = {\n      language: \"python3\",\n      script:this.solution_code,\n      clientId: \"b3ea619b3f8a2a24845666b069b463f2\",\n      clientSecret:\"eabbab96555556f8dd2c368f3b48225ffc3a28aab9a80de8f5ae05d979ba4809\"\n    }\n    const output = await lastValueFrom(this.http.post('https://api.jdoodle.com/v1/execute',obj,{headers:header}))\n    this.solution_output = output\n  }\n\n\n}\n","<span (click)=\"Display_Problem_Discussion()\">Problem</span>&nbsp;&nbsp;<span (click)=\"Display_Problem_Discussion()\">Discussions</span>\n&nbsp;&nbsp;<span (click)=\"write_solution=!write_solution\">Solution</span>\n<div *ngIf=\"Problem_Discussion\">\n    <h1>{{problem.heading}}</h1>\n    <p>{{problem.description}}</p>\n</div>\n\n<div *ngIf=\"!Problem_Discussion\">\n    <h1>Discussions</h1>\n    <div *ngFor=\"let discussion of discussions\" style=\"border: 1mm solid grey;\">\n        <h3>{{discussion.title}}</h3>\n        <p>{{discussion.discussion}}</p>\n    </div>\n</div>\n\n<div *ngIf=\"write_solution\">\n    <h1>Solution</h1>\n    <textarea cols=\"30\" rows=\"10\" [(ngModel)]=\"solution_code\">\n    </textarea>\n    <button (click)=\"solutionSubmit()\">Run</button>\n    {{solution_output}}\n</div>"]},"metadata":{},"sourceType":"module"}