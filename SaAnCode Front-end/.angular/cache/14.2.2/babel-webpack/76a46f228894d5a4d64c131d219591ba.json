{"ast":null,"code":"import _asyncToGenerator from \"C:/Angeerasa/Projects/SaAn-Code/SaAnCode Front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { HttpClient } from '@angular/common/http';\nimport { lastValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/data.service\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\n\nfunction ProblemComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.problem.heading);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.problem.description);\n  }\n}\n\nfunction ProblemComponent_div_9_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const discussion_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(discussion_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(discussion_r4.discussion);\n  }\n}\n\nfunction ProblemComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n    i0.ɵɵtext(2, \"Discussions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ProblemComponent_div_9_div_3_Template, 5, 2, \"div\", 2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.discussions);\n  }\n}\n\nfunction ProblemComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\", 4);\n    i0.ɵɵlistener(\"ngSubmit\", function ProblemComponent_div_10_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.solutionSubmit());\n    });\n    i0.ɵɵelementStart(2, \"h1\");\n    i0.ɵɵtext(3, \"Solution\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 5)(5, \"option\", 6);\n    i0.ɵɵtext(6, \"Python 3\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"option\", 7);\n    i0.ɵɵtext(8, \"Java\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"option\", 8);\n    i0.ɵɵtext(10, \"C++\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"textarea\", 9);\n    i0.ɵɵtext(12, \"        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.submitForm);\n    i0.ɵɵadvance(13);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.solution_output, \"\\n\");\n  }\n}\n\nexport class ProblemComponent {\n  constructor(route, service, http, fb) {\n    this.route = route;\n    this.service = service;\n    this.http = http;\n    this.fb = fb;\n    this.write_solution = false;\n    this.submitForm = this.fb.group({\n      language: [''],\n      solution_code: ['']\n    });\n    this.Problem_Discussion = true; // true- displays problem | false- displays discussion\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let id = _this.route.snapshot.paramMap.get('id');\n\n      _this.problem = yield _this.service.displayProblem(id);\n      _this.discussions = yield _this.service.getDiscussionsOfProblem(id);\n    })();\n  }\n\n  Display_Problem_Discussion() {\n    this.Problem_Discussion = !this.Problem_Discussion;\n  }\n\n  solutionSubmit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let id = _this2.route.snapshot.paramMap.get('id');\n\n      let ques = yield _this2.service.displayProblem(id);\n      let obj = {\n        language: _this2.submitForm.value.language,\n        script: _this2.submitForm.value.solution_code,\n        stdIn: ques.testCases\n      };\n      const output = yield lastValueFrom(_this2.http.post('http://localhost:3000/getSolution', obj));\n      console.log(output);\n      _this2.solution_output = JSON.stringify(output);\n    })();\n  }\n\n}\n\nProblemComponent.ɵfac = function ProblemComponent_Factory(t) {\n  return new (t || ProblemComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DataService), i0.ɵɵdirectiveInject(i3.HttpClient), i0.ɵɵdirectiveInject(i4.FormBuilder));\n};\n\nProblemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProblemComponent,\n  selectors: [[\"app-problem\"]],\n  decls: 11,\n  vars: 3,\n  consts: [[3, \"click\"], [4, \"ngIf\"], [\"style\", \"border: 1mm solid grey;\", 4, \"ngFor\", \"ngForOf\"], [2, \"border\", \"1mm solid grey\"], [3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"language\"], [\"value\", \"python3\"], [\"value\", \"java\"], [\"value\", \"cpp\"], [\"cols\", \"30\", \"rows\", \"10\", \"formControlName\", \"solution_code\"], [\"type\", \"submit\", \"value\", \"Run\"]],\n  template: function ProblemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"span\", 0);\n      i0.ɵɵlistener(\"click\", function ProblemComponent_Template_span_click_0_listener() {\n        return ctx.Display_Problem_Discussion();\n      });\n      i0.ɵɵtext(1, \"Problem\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(2, \"\\u00A0\\u00A0\");\n      i0.ɵɵelementStart(3, \"span\", 0);\n      i0.ɵɵlistener(\"click\", function ProblemComponent_Template_span_click_3_listener() {\n        return ctx.Display_Problem_Discussion();\n      });\n      i0.ɵɵtext(4, \"Discussions\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(5, \"\\n\\u00A0\\u00A0\");\n      i0.ɵɵelementStart(6, \"span\", 0);\n      i0.ɵɵlistener(\"click\", function ProblemComponent_Template_span_click_6_listener() {\n        return ctx.write_solution = !ctx.write_solution;\n      });\n      i0.ɵɵtext(7, \"Solution\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(8, ProblemComponent_div_8_Template, 5, 2, \"div\", 1);\n      i0.ɵɵtemplate(9, ProblemComponent_div_9_Template, 4, 1, \"div\", 1);\n      i0.ɵɵtemplate(10, ProblemComponent_div_10_Template, 15, 2, \"div\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.Problem_Discussion);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.Problem_Discussion);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.write_solution);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9ibGVtLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["HttpClient","lastValueFrom","i0","ProblemComponent","constructor","route","service","http","fb","group","language","solution_code","ngOnInit","id","snapshot","paramMap","get","problem","displayProblem","discussions","getDiscussionsOfProblem","Display_Problem_Discussion","Problem_Discussion","solutionSubmit","ques","obj","submitForm","value","script","stdIn","testCases","output","post","console","log","solution_output","JSON","stringify","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Angeerasa\\Projects\\SaAn-Code\\SaAnCode Front-end\\src\\app\\problem\\problem.component.ts","C:\\Angeerasa\\Projects\\SaAn-Code\\SaAnCode Front-end\\src\\app\\problem\\problem.component.html"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { lastValueFrom } from 'rxjs';\nimport {DataService} from '../services/data.service'\n\n\n@Component({\n  selector: 'app-problem',\n  templateUrl: './problem.component.html',\n  styleUrls: ['./problem.component.css']\n})\nexport class ProblemComponent implements OnInit {\n  problem!:any;\n  write_solution:boolean = false;\n  solution_code!:string;\n  solution_output!:any;\n  discussions!:any;\n  submitForm=this.fb.group(\n    {\n      language:[''],\n      solution_code:[''],\n    }\n  )\n  Problem_Discussion:boolean= true; // true- displays problem | false- displays discussion\n  constructor(private route:ActivatedRoute, \n              public service:DataService, \n              public http:HttpClient,\n              public fb:FormBuilder\n             ) {\n\n   }\n\n  async ngOnInit(): Promise<void> {\n    let id= this.route.snapshot.paramMap.get('id');\n    this.problem = await this.service.displayProblem(id);\n    this.discussions = await this.service.getDiscussionsOfProblem(id);\n  }\n  Display_Problem_Discussion(){\n    this.Problem_Discussion= !this.Problem_Discussion;\n  }\n\n  async solutionSubmit(){\n    let id= this.route.snapshot.paramMap.get('id');\n    let ques = await this.service.displayProblem(id);\n\n    let obj = {\n      language: this.submitForm.value.language,\n      script:this.submitForm.value.solution_code,\n      stdIn:ques.testCases\n    }\n\n    const output = await lastValueFrom(this.http.post('http://localhost:3000/getSolution',obj))\n    console.log(output)\n\n    this.solution_output = JSON.stringify(output);\n  }\n\n\n}\n","<span (click)=\"Display_Problem_Discussion()\">Problem</span>&nbsp;&nbsp;<span (click)=\"Display_Problem_Discussion()\">Discussions</span>\n&nbsp;&nbsp;<span (click)=\"write_solution=!write_solution\">Solution</span>\n<div *ngIf=\"Problem_Discussion\">\n    <h1>{{problem.heading}}</h1>\n    <p>{{problem.description}}</p>\n</div>\n\n<div *ngIf=\"!Problem_Discussion\">\n    <h1>Discussions</h1>\n    <div *ngFor=\"let discussion of discussions\" style=\"border: 1mm solid grey;\">\n        <h3>{{discussion.title}}</h3>\n        <p>{{discussion.discussion}}</p>\n    </div>\n</div>\n\n<div *ngIf=\"write_solution\">\n    <form [formGroup]=\"submitForm\" (ngSubmit)=\"solutionSubmit()\">\n        <h1>Solution</h1>\n        <select formControlName=\"language\">\n            <option value=\"python3\">Python 3</option>\n            <option value=\"java\">Java</option>\n            <option value=\"cpp\">C++</option>\n        </select>\n        <textarea cols=\"30\" rows=\"10\" formControlName=\"solution_code\">\n        </textarea>\n        <input type=\"submit\" value=\"Run\">\n    </form>\n    {{solution_output}}\n</div>"]},"metadata":{},"sourceType":"module"}